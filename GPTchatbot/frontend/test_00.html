<body>
    <header>
      <h1>Support and Care for MDW</h1>
    </header>
  
    <div id="chatbox">
      <div class="chatlog"></div>
      <div class="input">
        <textarea id="message" placeholder="Type your message here..."></textarea>
        <button id="send-btn">Send</button>
      </div>
    </div>
  
    <script>
      const chatlog = document.querySelector('.chatlog');
      const message = document.getElementById('message');
      const sendBtn = document.getElementById('send-btn');
  
      async function sendCounselorRequest() {
        try {
          const response = await fetch('http://localhost:3000/counselor', {
            method: 'POST',
            body: JSON.stringify(),
            headers: {
              'Content-Type': 'application/json'
            }
          });
          const counselor = await response.json();
          console.log(counselor); // log the counselor data received
          return counselor; // return the counselor data received
        } catch (error) {
          console.error(error);
        }
      }
  
      sendBtn.addEventListener('click', async () => {
        const userMessage = message.value.trim();
        if (userMessage === '') return;
  
        const counselor = await sendCounselorRequest();
        const botMessage = counselor.response;
  
        const chatEntry = `
          <div class="message user-message">${userMessage}</div>
          <div class="message bot-message">${botMessage}</div>
        `;
  
        chatlog.insertAdjacentHTML('beforeend', chatEntry);
        message.value = '';
      });
    </script>
  </body>
  
  <style>
    header {
      background-color: #4d4d4d;
      color: white;
      padding: 10px;
      text-align: center;
    }
  
    #chatbox {
      display: flex;
      flex-direction: column;
      height: 500px;
      margin: 50px auto;
      max-width: 800px;
    }
  
    .chatlog {
      flex-grow: 1;
      overflow-y: scroll;
      padding: 20px;
    }
  
    .input {
      display: flex;
      margin-top: 10px;
      padding: 10px;
    }
  
    textarea {
      flex-grow: 1;
      margin-right: 10px;
      resize: none;
    }
  
    #send-btn {
      background-color: #4d4d4d;
      border: none;
      border-radius: 5px;
      color: white;
      cursor: pointer;
      padding: 5px 10px;
    }
  
    .message {
      border-radius: 10px;
      margin-bottom: 10px;
      padding: 10px;
    }
  
    .user-message {
      background-color: #e0e0e0;
      color: #333;
    }
  
    .bot-message {
      background-color: #4d4d4d;
      color: white;
    }
  </style>
  